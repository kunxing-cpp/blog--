## 《苍穹外卖》设计模式：

### 1,工厂模式：

  **  Spring IoC容器管理所有Bean**

- **模式分析**：
  
  - **产品**：`OrderService`接口。
  
  - **具体产品**：`OrderServiceImpl`类。
  
  - **工厂**：**Spring IoC容器**充当了抽象工厂和具体工厂的角色。
  
  - **客户端**：所有通过`@Autowired`注入`OrderService`的类（如`OrderController`）。

- **好处**：
  
  - **控制反转**：将对象的创建权从程序员手中移交给了Spring容器，极大降低了耦合度。
  
  - **易于测试**：可以轻松地注入一个Mock的实现来进行单元测试。
  
  - **符合开闭原则**：要替换实现（例如升级为`OrderServiceV2Impl`），只需修改注解或配置，而无需修改客户端代码。
  
  ****
  
  ### 2，建造者模式：
  
  **Lombok `@Builder`创建DTO/VO**
  
  **好处**：
  
  - **代码可读性**：链式调用非常清晰，一眼就能看出对象的构造过程。
  
  - **解决重叠构造器问题**：对于有大量可选字段的对象，无需编写多个参数列表不同的构造器。
  
  - **创建不可变对象**：可以轻松创建`final`对象，保证线程安全。

****

### 3，代理模式：

       **Spring AOP实现事务、日志**, 例如：**事务管理**（`@Transactional`）、**全局异常处理**  （`@RestControllerAdvice`）

       **好处**：

- **职责分离**：事务管理、日志记录、安全检查等**横切关注点**与核心业务逻辑完全分离。

- **无侵入性**：不需要修改原有的业务代码，通过注解即可增强功能。
  
  ******
  
  ### 4 ,  模板方法模式：
  
  **支付回调流程**
  
  **好处**：
  
  **消除大量if-else**，代码结构清晰。
  
  **符合开闭原则**：新增一种支付方式，只需新增一个子类，无需修改原有模板逻辑。
  
  ****
  
  ### 5，策略模式：
  
  **订单状态处理**，例如:  **订单状态机**。订单从“待支付”到“待接单”到“配送中”等状态变迁，每个变迁都需要不同的校验和操作。

       **好处**：

       **将复杂的状态处理逻辑分解到独立的类中**，每个类职责单一。

       **易于扩展**：新增状态处理逻辑只需添加新的策略类。


